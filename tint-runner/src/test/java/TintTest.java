import edu.stanford.nlp.ling.CoreAnnotations;
import edu.stanford.nlp.ling.CoreLabel;
import edu.stanford.nlp.pipeline.Annotation;
import edu.stanford.nlp.util.CoreMap;
import edu.stanford.nlp.util.TypesafeMap;
import eu.fbk.dh.tint.runner.TintPipeline;
import eu.fbk.dh.tint.runner.TintRunner;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import java.io.ByteArrayInputStream;
import java.io.InputStream;
import java.io.OutputStream;
import java.nio.charset.StandardCharsets;

/**
 * Created by alessio on 07/09/16.
 */

public class TintTest {

    private static final Logger LOGGER = LoggerFactory.getLogger(TintTest.class);

    public static void main(String[] args) {
        String sentenceText =
                "Bello abbracciare i nostri campioni, alle Olimpiadi e nella vita. Che emozioni i Giochi Olimpici e Paralimpici… https://t.co/gDRZsCLz3iOggi da Ferrovie dello Stato. Bene l'AltaVelocità, ma adesso più soldi a pendolari e metro https://t.co/ylKoPKfKWuPenso che la politica sia fare proposte, avere idee, metterci passione. Chi fa politica insultando gli avversari non cambia le cose #rtlIl referendum è importante. Se vince il sì, si cambia. Se vince il no, rimane la palude per decenni. E tornano i soliti noti #rtl #bastaunsiDa mesi dico che prima vengono bandalarga, SalernoReggio, viadotti in Sicilia. E che dopo c'è il ponte sullo stretto. Dov'è la novità? #rtlShimon Peres, un grande del nostro tempo, un uomo di paceVerona, industria 4.0 ma anche il sociale. #avanti  https://t.co/QaEiiQPfCu https://t.co/JCNOi2X8ENMilano può e deve spingere l’Italia a puntare in alto. Oggi su sanità, infrastrutture, ricerca #avanti https://t.co/bDmWqaGDmjJovanotti, Francesco Totti, Virginia Raffaele: il #27settembre è un bel giorno per il #talento italiano. #auguriCara Italia, vuoi cambiare davvero?\n"
                        + "#bastaunsì https://t.co/EZOeSQMn1y https://t.co/kFhQKb0S70Un onore per l’Italia essere rappresentata da #Fuocoammare come miglior film in lingua straniera agli Oscar 2017La stabilità delle regole burocratiche, la stabilità delle scuole. Un mese dopo il #terremoto. https://t.co/u5lL5KjGq3Nel bolognese, dove la ripresa è già realtà. Lamborghini, Ducati, Philip Morris. Avanti tutta, è #lavoltabuona https://t.co/BSldAGyYHjFra pochi minuti su La7 a \"Otto e mezzo\" con Lilli Gruber, Marco Travaglio e...la scheda elettorale https://t.co/mOK1vq3nHJIl Piano industria 4.0 presentato con min. Calenda è un progetto concreto per chi crede nell'Italia. https://t.co/sGeIXyFaEo@bastaunsi per cambiare. Altrimenti tutto rimane come adesso #enews https://t.co/HLj9h6bJpvUnione Europea. Le parole ci sono, i fatti no. Dopo Brexit bisogna cambiare passo #enews https://t.co/HLj9h6bJpvRicostruire bene, prevenire meglio. Perché CasaItalia sarà fondamentale per il nostro Paese #enews https://t.co/HLj9h6bJpvGrazie alle atlete e agli atleti che ci hanno emozionato alle paralimpiadi di Rio De Janeiro #orgoglioItalia https://t.co/xi7ESilryGOggi intervista al Corriere su Europa, vertice di Bratislava, legge di bilancio e referendum https://t.co/cXxFjAos4c https://t.co/tCTzNPFHpEBello salutare tanti amici alla Conferenza Nazionale sulla Disabilità. Nel 2017 aumenteremo ancora i fondi per il sociale#Bratislava. Passo in avanti, ma piccolo piccolo. Troppo poco. Senza cambiare politiche su economia e immigrazione, l'Europa rischia moltoL'abbraccio del Governo alla signora Franca. E un pensiero grato all'uomo delle Istituzioni che ha servito con passione l'Italia #CiampiConfronto bello e civile con l'Anpi. Orgoglioso del dibattito che il @pdnetwork offre all'Italia. E adesso @bastaunsi per cambiare davvero!Da Bologna, Festa dell'Unità, il confronto sul referendum con Carlo Smuraglia. Modera Gad Lerner https://t.co/6Wg2PJWIZ2 #bastaunsìVolevano cambiare la storia, hanno finito col cambiare la geografia. #dimaio \n"
                        + "Ma sulla dittatura e sul fascismo non si scherza #bastaunsiLa nuova scuola di Mondovì, gli allevatori de La Granda, la Venchi, la Merlo. Bella l’Italia vista da CuneoAlex Zanardi, un uomo e un atleta di cui tutta l'Italia è orgogliosaBuon compleanno Ferrero. 70 anni fa un piccolo laboratorio, adesso una grande azienda mondiale #ItaliaBuona https://t.co/kNcvoDfy2UAbbiamo sbloccato il patto di stabilità sulle scuole. Sulla sicurezza dei figli non si scherza #lavoltabuona https://t.co/reWSuJvvD1Oggi la provincia di Cuneo: due scuole, quattro aziende molto diverse, una terra splendida. E un'idea forte per il futuro del Made in ItalyLa prima pietra del nuovo stabilimento di Siemens a Milano: l'Italia che cambia attrae investimenti su innovazione e futuro #avantituttaGrazie a chi ha reso possibile riaprire la scuola ad Amatrice, oggi. Siamo appena all'inizio, è ancora lunga. Ma oggi #grazie. Viva l'ItaliaLa Prysmian a Battipaglia (Salerno), la nuova scuola a S.Tammaro (Caserta), la Reggia di Carditello. È bellissimo il Sud che non si arrendeCiao @pdmodena! Chi pensa di impaurire i democratici ha sbagliato indirizzo. Ci vediamo giovedì alla festa, un abbraccio a tutti.Dati ufficiali ISTAT di oggi. Nel II trimestre 2016 più 189mila posti di lavoro. Da inizio nostro governo: più 585mila. Il #JobsAct funzionaAbbiamo rispetto per i leader del passato. Ma non possono rubarci il futuro. Avanti @pdnetwork #Italiachedicesi @bastaunsiNella Valle dei Templi con i sindaci per la firma del Patto per la Sicilia. Che meraviglia l’Italia https://t.co/vJEgvwVVg2Per i Vigili del Fuoco. Perché non bastano i grazie https://t.co/UZfpw2aNuo https://t.co/LNOeBdh0StOlimpiadi: gli interessi del Paese e le beghe dei partiti https://t.co/2hDm5RoT4ONel tempo in cui vanno di moda politici che promettono muri, bello inaugurare il nuovo ponte di Bari #pontinonmuri https://t.co/4OInk60Y3iFantastica l'accoglienza del Teatro Politeama di Lecce. Oltre mille persone per dire che @bastaunsi e l'Italia cambia davvero #lavoltabuonaC'è un'Italia che non urla, ma giorno dopo giorno costruisce il futuro #Dopodinoi https://t.co/B96YK8CXDQBello avere un popolo da cui tornare, il luogo che chiami casa. Grazie #Firenze. #bastaunsi https://t.co/ccnHVOz42yChe emozione la gioia delle famiglie per la legge sul #dopodinoi. La politica, a volte,regala speranza #lavoltabuona https://t.co/uFtOvLUFI6Quanta voglia di futuro, speranza, bellezza a @FestareggioLive Orgoglioso del nostro popolo, dell'Italia che dice sì #bastaunsiBuona scuola. Delega 0-6. Il Governo la attuerà prendendo spunto dallo straordinario modello di Reggio Children #educazione #orgoglioItaliaOggi Reggio Children, #FestaUnita a R.Emilia e Firenze. Domani Atene con Tsipras e Lecce per @bastaunsi. Sabato firma patti Puglia e SiciliaIn rientro dal #G20. Più partecipo a questi incontri, più vedo le potenzialità per l'Italia. Dobbiamo continuare a cambiare, possiamo farlo.G20, #CasaItalia, #bastaunsì. Enews 441 dalla Cina https://t.co/ccNYFw3kQKAd AliBaba con Jack Ma abbiamo presentato l’accordo sul vino e contro i falsi. L’innovazione aiuta l’Italia #avanti https://t.co/XIaN4ZI5O0Scegliere i migliori: il prof. Azzone, rettore Politecnico Milano, ha dato disponibilità a fare il project manager #CasaItalia #avantituttaSe vince il Sì, meno poltrone e stipendi ai politici, meno poteri alle Regioni. Se vince il no, in Italia non cambia niente #bastaunsiTrenta slide in trenta mesi. Numeri, non chiacchiere. Tutti insieme, tutti nella stessa direzione #Italia #trenta https://t.co/Ct5KqhP6hsUn gesto d'attenzione a Norcia, all'Umbria, a questa gente indomita. Adesso Amatrice, il dolore dei Funerali e il #luttonazionaleI funerali delle vittime del #terremoto si terranno ad Amatrice come chiedono il sindaco e la comunità locale. E come è giusto!L'Enews sul #terremoto, sulla ricostruzione, sul progetto #casaitalia https://t.co/16TrDl6oLICon i presidenti delle Regioni interessate e con la Protezione Civile a Palazzo Chigi, al lavoro. Tutti insieme, tutti uniti #terremotoCon la gente colpita dal #terremoto e con i meravigliosi soccorritori. Dolore e solidarietà #Italia https://t.co/6tGOaTh0sBDichiarazione-video sul #terremoto.\n"
                        + "Non lasceremo solo nessuno \n"
                        + "https://t.co/eIo0TWuW5kVerso Ventotene. Ecco la eNews di questa settimana https://t.co/Xp8NpnNKUeAvviso di servizio per la Versiliana. Prima il volley, poi la politica https://t.co/dXKt0x7HR8Mamma mia che cosa ha fatto @ItaliaTeam_it di Volley! Stre-pi-to-si! #orgoliotricolore Che sofferenza, ma si va in finale. Su tutti lo #ZarCosa insegna la storia di Ryanair non solo in Abruzzo o Sardegna? Giù le tasse! \n"
                        + "https://t.co/ZpyrSCy0vdL'intervista con Enrico Mentana alla Festa dell'Unità di Villalunga (Reggio Emilia)\n"
                        + "https://t.co/KAb0QR7ST6Spero abbiate vissuto un buon #ferragosto. Grazie a chi oggi ha lavorato per garantire i servizi pubbliciPazzesco! Grandioso @greg_palt IMMENSO. E bravo anche @GDetti #orgogliotricolore #rio2016  Valeva la pena la sveglia, viva l'ItaliaRingraziando i nostri connazionali che nelle missioni all’estero servono l’Italia con umanità e professionalità https://t.co/GPmsLp8D8FUn omaggio a #Firenze nel giorno in cui la città celebra la Liberazione. Un pensiero a PalazzoVecchio e al suono della Martinella #11agostoTanta gente anche a #Villalunga.Il nostro popolo crede nella buona politica,non nelle polemiche. E adesso #bastaunsi https://t.co/OBhh2RCuHZPeccato per #rio2016. Ma grazie dal profondo del cuore a @mafaldina88 una delle  atlete più forti di sempre #orgogliotricoloreQuanto affetto alla festa di Bosco Albergati.  Grazie! Come dicono qui \"tin bota\", teniamo botta! E tutti insieme sappiamo che #bastaunsiOlimpiadi #rio2016 e #bastaunsì\n"
                        + "Ecco l'Enews 437 https://t.co/xM78zOklqjChe bello lo sport italiano. Judo e scherma d'oro. Ma bene anche tuffi, ciclismo, nuoto. E è solo l'inizio #orgogliotricolore #ForzaAzzurriBrava Rossella, bravo Gabriele: prime medaglie a #Rio2016. Verso casa, adesso, in aereo con lo sfortunato ma grande Nibali #ForzaAzzurriCon @massimobottura e il progetto Refetto-Rio l’Italia vince la medaglia d’oro della solidarietà #rio2016 https://t.co/rIHmRdnYBYLe Olimpiadi sono emozioni e valori. In bocca al lupo a tutti i nostri ragazzi #forzaAzzurri https://t.co/Da7O8HysiNBello aver incontrato la nostra comunità di San Paolo, la città con più italiani nel mondo #orgogliotricolore https://t.co/eorU1DlaVhItalia a #Rio2016. Orgoglio, tenacia e passione #ForzaAzzurri https://t.co/JR1oeg1ar2Perché la solidarietà è questione politica, non etica https://t.co/A0Hqjn1x3WIn questo Paese i giudici rispondono alle leggi e alla Costituzione italiana, non al presidente turco. Si chiama \"stato di diritto\" #ItaliaTaranto. Dopo anni di promesse non rispettate, #finalmente ci siamo https://t.co/0IrCf0WDHQ https://t.co/wCd8hN4sb4Fatti, non parole. Da febbraio 2014 a oggi, ISTAT certifica più 599MILA posti di lavoro. Sono storie, vite, persone. Questo è il #jobsactIl merito non è più una parolaccia https://t.co/wHEe7ZU6q3 https://t.co/CWly3cEBZPDopo #Quadrilatero visita a Gualdo Tadino alla Rocchetta, altra azienda pronta a investire e assumere #italiariparte https://t.co/jJJaObN7loNelle Marche per il #Quadrilatero ho conosciuto la vera forza di @arenapeople: la sua gente #italiariparte https://t.co/hj98N9v0kMCon l'inaugurazione del Quadrilatero (le strade statali 77 e 318) Marche e Umbria sono più competitive. #passodopopasso #lavoltabuonaCommozione e sdegno per il sacrificio di Padre Jacques, ucciso mentre celebrava Messa. Vicini alla Chiesa Cattolica e alla FranciaL'Italia non dimentica #Sangiuliano https://t.co/FvxXZEY2SQ https://t.co/ClEh2g2qxnLa SalernoReggioCalabria sarà pronta #comepromesso il 22dicembre. Intanto da oggi è a 4corsie. L'Italia cambia passo dopo passo#lavoltabuonaQuello che è successo oggi a Kabul non può passare sotto silenzio in Europa. Contro il terrorismo islamico sempre e ovunque #PrayForKabulBello discutere con @JeffBezos a Firenze e belli i progetti di @amazon per l'Italia con oltre mille nuovi posti di lavoro #lavoltabuonaInnovazione, valori e futuro: questa è l'Italia  https://t.co/sexFZIGRTh https://t.co/ipNGJoJsnJPaolo Borsellino. La sua professionalità. E i suoi agenti: Emanuela, Agostino, Vincenzo, Walter, Claudio. L'Italia non dimentica #19luglioLa prima misura organica della storia repubblicana contro la #povertà approvata oggi in prima lettura: 1,6 miliardi in 2 anni #lavoltabuonaOggi è il giorno del dolore e delle lacrime. Insieme alla Puglia e alla sua gente https://t.co/TmR4THyFHdLacrime e dolore per le vittime e le loro famiglie. Ma anche tanta rabbia. Pretendiamo chiarezza su ciò che è avvenuto in Puglia stamani.Una settimana difficile, le periferie, #bastaunsì: Enews 435 https://t.co/O7FrYkOWU3Il Governo oggi a Fermo con don Vinicio e le Istituzioni locali in memoria di #Emmanuel \n"
                        + "Contro l'odio, il razzismo e la violenza.Approvata oggi legge su #depistaggio. Una scelta giusta, un atto dovuto. Un pensiero alle famiglie delle vittime delle stragi #lavoltabuonaLa storia bellissima di Samuele, 19 anni, di Gela. #autismo #orgoglio https://t.co/WSeKLq4PqYLa conclusione della mia replica finale a Direzione @pdnetwork \n"
                        + "Qui la replica integrale https://t.co/9CxwtspGpo https://t.co/9IZkoKg1npOggi, su Sky TG24\u200B, #LIntervista con Maria Latella\u200B. Qui il video integrale https://t.co/ZWlCm06orrL'Italia tutta insieme, tutta unita, piange i nostri connazionali uccisi a #Dacca. I nostri valori sono più forti dell'odio e del terrore25 milioni dalla famiglia Della Valle per restaurare il #Colosseo. Lavori finiti in anticipo #italiariparte https://t.co/1E4nsb97S5Con i dati #Istat di oggi siamo a 497mila posti di lavoro in più da febbraio 2014. Il #jobsact sta creato lavoro stabile #avantituttaGrazie alla Marina Militare, fiero di essere italiano\n"
                        + "https://t.co/2jLvnGgHrr https://t.co/SGnAnJkFme@gditom Perdonato, perdonato #matteorispondeVabbe, finiamola qui, per adesso #matteorisponde. Grazie a tutti. E per chi vuole: https://t.co/jy82yeQ560@DarioBallini @nomfup condivido la scelta Dario #MatteoRisponde@Blubiagio @nomfup Temo che non sappia molto della mia vita, ma buona serata lo stesso #MatteoRisponde@RizzoRaffaele Tolti? Prego? Di che parla Raffaele? #MatteoRisponde@colvieux Pippo non si discute. E nemmeno Carlo Conti \uD83D\uDE09@mante c'era proprio scritto così nel post, Mante:-) Mi serviva il moderatore altroché Foia@nomfup io per San Giovanni a Firenze ho sempre lavorato. Anche Lei suppongo, no? #MatteoRispondePronti per il #matteorisponde?Enews 434 qui: https://t.co/RZIvLwjMq5 (e stasera alle 21 #MatteoRisponde in diretta)Stasera alle 21 torna #MatteoRisponde, l'appuntamento di confronto con tutti voi. Anche per mail a matteo@governo.it https://t.co/Zdhw8O7xSyIl nostro cuore condivide il dolore del popolo turco per le notizie tragiche che arrivano da #istanbul Contro il terrorismo, ovunque #UEHo portato voce Italia a consUE post #Brexit Vogliamo Europa sociale che parli di volontari cultura asili nido. Non solo banche e burocratiCiao #BudSpencer \n"
                        + "Ti abbiamo voluto bene in tantiSpettacolo! Vedere il 2-0 in dirett con Hollande e Merkel a Berlino non ha prezzo #ForzaAzzurriPreso nella notte dai Carabinieri il boss della Ndrangheta Fazzalari. Grazie a giudici e forze dell'Ordine. Viva l'Italia! #buonadomenicaIn diretta da @Palazzo_Chigi comunicazioni alla stampa sul Referendum del Regno Unito https://t.co/lPqH00hDGwDobbiamo cambiarla per renderla più umana e più giusta. Ma l'Europa è la nostra casa, è il nostro futuro.Grazie Presidente Santos. Giornata storica. #SiALaPaz https://t.co/p8ig19BhE9La strategia sulle rinnovabili.Un Paese intero che ha bisogno di #energienove E che ci crede davvero #italiariparte https://t.co/jsu8rErAiM";

        try {

//            LOGGER.info(sentenceText);

            TintPipeline pipeline = new TintPipeline();
            pipeline.loadDefaultProperties();
            pipeline.load();

            Annotation annotation = pipeline.runRaw(sentenceText);
//            OutputStream outputStream = System.out;
//            InputStream inputStream = new ByteArrayInputStream(sentenceText.getBytes(StandardCharsets.UTF_8));
//            pipeline.run(inputStream, outputStream, TintRunner.OutputFormat.JSON);

//            for (Class<?> myClass : annotation.keySetNotNull()) {
//                Object o = annotation.get((Class) myClass);
//
//                System.out.println(o.getClass().getMethod("json"));
//            }

//            for (CoreMap sentence : annotation.get(CoreAnnotations.SentencesAnnotation.class)) {
//                for (CoreLabel token : sentence.get(CoreAnnotations.TokensAnnotation.class)) {
//                    System.out.println(token);
//                    System.out.println(token.ner());
//                    System.out.println();
//                }
//
//            }

        } catch (Exception e) {
            e.printStackTrace();
        }

    }
}
